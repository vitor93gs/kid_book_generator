{
  "type": "object",
  "properties": {
    "meta": {
      "type": "object",
      "properties": {
        "timestamp_utc": {"type": ["string","null"], "format": "date-time"},
        "observer": {"type": ["string","null"], "description": "who created this description"},
        "confidence_overall": {"type": "number", "minimum": 0, "maximum": 1, "description": "0=low confidence, 1=high confidence"}
      },
      "required": ["confidence_overall"]
    },

    "general": {
      "type": "object",
      "properties": {
        "age_estimate_years": {"type": ["number","null"], "description": "approximate age (years) - optional"},
        "gender_presentation": {"type": ["string","null"], "description": "observed gender presentation (optional)"},
        "height_cm": {"type": ["number","null"], "description": "observed or estimated height in centimeters"},
        "body_type": {"type": ["string","null"], "enum": ["very thin","thin","slender","average","athletic","stocky","heavy","unknown"]},
        "posture": {"type": ["string","null"], "enum": ["upright","slouching","leaning","crouched","seated","reclined","other"]},
        "view": {"type": "string", "enum": ["front","3/4 left","3/4 right","profile left","profile right","rear","top-down"], "default": "front"},
        "occlusion": {"type": "object", "properties": {
          "face": {"type": "boolean"}, "hair": {"type": "boolean"}, "upper_body": {"type": "boolean"}, "hands": {"type": "boolean"}
        }, "description": "true = partially occluded"}
      }
    },

    "head": {
      "type": "object",
      "properties": {
        "head_shape": {"type": "string", "description": "e.g., oval, round, square, heart, diamond, triangular"},
        "head_dimensions_cm": {
          "type": "object",
          "properties": {
            "head_height_cm": {"type": ["number","null"]},
            "head_width_cm": {"type": ["number","null"]},
            "jaw_width_cm": {"type": ["number","null"]}
          }
        },
        "tilt_degrees": {"type": ["number","null"], "description": "head tilt (positive = tilt right from viewer perspective)"},
        "rotation_degrees": {"type": ["number","null"], "description": "yaw rotation (0 = facing camera; positive = turned right)"},
        "neck": {"type": "object", "properties": {
          "neck_length_cm": {"type": ["number","null"]},
          "neck_thickness_cm": {"type": ["number","null"]}
        }}
      }
    },

    "hair": {
      "type": "object",
      "properties": {
        "length": {"type": "string", "enum": ["shaved","very short","short","ear-length","chin-length","shoulder-length","mid-back","waist","very long","unknown"]},
        "style": {"type": ["string","null"], "description": "e.g., straight, wavy, curly, coiled, braids, ponytail, bun, undercut"},
        "parting": {"type": ["string","null"], "description": "e.g., center, left, right, none"},
        "dominant_color_hex": {"type": ["string","null"], "pattern": "^#([A-Fa-f0-9]{6})$"},
        "secondary_color_hex": {"type": ["string","null"], "pattern": "^#([A-Fa-f0-9]{6})$"},
        "texture_notes": {"type": ["string","null"], "description": "density, frizz, highlights, flyaways"},
        "accessories": {"type": "array", "items": {"type":"string"}}
      }
    },

    "skin": {
      "type": "object",
      "properties": {
        "skin_tone_hex": {"type": ["string","null"], "pattern": "^#([A-Fa-f0-9]{6})$"},
        "undertone": {"type": ["string","null"], "enum": ["cool","warm","neutral","unknown"]},
        "texture": {"type": ["string","null"], "description": "smooth, freckled, mottled, oily, dry, acne, visible pores"},
        "scars_marks": {"type": "array", "items": {"type":"object", "properties": {
          "type": {"type":"string"},
          "location": {"type":"string"},
          "size_cm": {"type":"number"},
          "description": {"type":"string"}
        }}}
      }
    },

    "face": {
      "type": "object",
      "properties": {
        "forehead": {"type": ["string","null"], "description": "high/low/flat/prominent; include wrinkles/furrows"},
        "brow": {"type": "object", "properties": {
          "shape": {"type": ["string","null"], "description": "arched, straight, round, angled, thick, thin"},
          "thickness_mm": {"type": ["number","null"]},
          "distance_from_eye_mm": {"type": ["number","null"]}
        }},
        "eyes": {"type": "object", "properties": {
          "shape": {"type": ["string","null"], "description": "almond, round, hooded, monolid, deep-set, prominent"},
          "size_relative": {"type": ["string","null"], "enum": ["small","medium","large"]},
          "eye_color_hex": {"type": ["string","null"], "pattern": "^#([A-Fa-f0-9]{6})$"},
          "sclera_notes": {"type": ["string","null"], "description": "visible veins, redness"},
          "eyelashes": {"type": ["string","null"], "description": "long, short, thick, sparse"},
          "eye_spacing": {"type": ["string","null"], "enum": ["close-set","average","wide-set"]},
          "pupil_visibility": {"type": ["string","null"], "enum": ["visible","partly visible","obscured"]}
        }},
        "nose": {"type": "object", "properties": {
          "overall_shape": {"type": ["string","null"], "description": "e.g., straight, aquiline, bulbous, button, wide, narrow"},
          "bridge_height_mm": {"type": ["number","null"]},
          "nostril_width_mm": {"type": ["number","null"]},
          "tip_characteristics": {"type": ["string","null"]}
        }},
        "cheeks": {"type": "object", "properties": {
          "prominence": {"type": ["string","null"], "enum": ["flat","moderate","prominent"]},
          "cheekbone_height": {"type": ["string","null"]}
        }},
        "lips": {"type": "object", "properties": {
          "top_lip_fullness": {"type": ["string","null"], "enum": ["thin","average","full"]},
          "bottom_lip_fullness": {"type": ["string","null"], "enum": ["thin","average","full"]},
          "width_mm": {"type": ["number","null"]},
          "shape_notes": {"type": ["string","null"]}
        }},
        "teeth_visibility": {"type": ["string","null"], "enum": ["visible_smile","partly_visible","not_visible"]},
        "facial_hair": {"type": "object", "properties": {
          "type": {"type": ["string","null"], "enum": ["none","stubble","short beard","full beard","moustache","goatee","sideburns","other"]},
          "color_hex": {"type": ["string","null"], "pattern": "^#([A-Fa-f0-9]{6})$"},
          "density_notes": {"type": ["string","null"]}
        }},
        "ears": {"type": "object", "properties": {
          "visibility": {"type":"string","enum":["visible","partly_visible","covered"]},
          "lobes": {"type":["string","null"], "enum":["attached","free","unknown"]},
          "piercings": {"type":"array","items":{"type":"string"}}
        }},
        "wrinkles_lines": {"type":"array","items":{"type":"string"}, "description":"e.g., nasolabial folds, crow's feet, forehead lines"},
        "distinctive_marks": {"type":"array","items":{"type":"string"}}
      }
    },

    "measurements_and_proportions": {
      "type": "object",
      "properties": {
        "interocular_distance_mm": {"type":["number","null"]},
        "head_to_shoulder_ratio": {"type":["number","null"], "description":"head heights relative to shoulder width"},
        "shoulder_width_cm": {"type":["number","null"]},
        "arm_length_cm": {"type":["number","null"]},
        "torso_length_cm": {"type":["number","null"]}
      }
    },

    "pose_and_landmarks": {
      "type": "object",
      "properties": {
        "pose_description": {"type":"string"},
        "normalized_landmarks": {
          "type":["object", "null"],
          "description": "values 0..1 relative to image width/height",
          "properties": {
            "nose": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2},
            "left_eye": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2},
            "right_eye": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2},
            "left_ear": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2},
            "right_ear": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2},
            "left_shoulder": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2},
            "right_shoulder": {"type":"array","items":{"type":"number"}, "minItems":2, "maxItems":2}
          }
        },
        "hand_positions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "label": {"type": "string"},
              "xy": {
                "type": "array",
                "items": {"type": "number"},
                "minItems": 2,
                "maxItems": 2
              }
            }
          }
        }
      }
    },

    "clothing_and_accessories": {
      "type":"object",
      "properties": {
        "upper_garment": {"type":"object","properties":{
          "upper_garment_type":{"type":"string"},
          "color_hex":{"type": ["string", "null"], "pattern": "^#([A-Fa-f0-9]{6})$"},
          "pattern":{"type": ["string", "null"]},
          "fit":{"type": ["string", "null"]},
          "visible_details":{"type": ["string", "null"]}
        }},
        "lower_garment":{"type":["object", "null"],"properties":{
          "lower_garment_type":{"type":"string"},
          "color_hex":{"type":["string","null"], "pattern":"^#([A-Fa-f0-9]{6})$"},
          "fit":{"type":"string"}
        }},
        "outerwear":{"type":["string", "null"]},
        "glasses":{"type":["object", "null"],"properties":{"type":{"type":"string"},"lens_visibility":{"type":"string"}}},
        "jewelry":{"type":"array","items":{"type":"string"}}
      }
    },

    "annotations": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "note": {"type": ["string", "null"]},
          "region": {"type": "string"},
          "confidence": {"type": "number", "minimum": 0, "maximum": 1}
        }
      }
    }
  },
  "required": ["meta"]
}
